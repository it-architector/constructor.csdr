<html id="1.2.1">
<head id="1.2.1.1">
    <title id="1.2.1.1.1"></title>
    <meta id="1.2.1.1.2" charset="utf-8">
    <script id="1.2.1.1.3" type="text/javascript">

        /**
         * Проект создан на основе архитектуры CSDR
         * https://github.com/it-architector/architecture.csdr
         * */

        $GLOBALS = [];

        /*1 компонент проекта*/
        $GLOBALS['Рефлексы'] = {
            '1': {
                'Ориентир': 'Интерфейс',
                'Расчёты': 'Одностраничник',
                'Сценарий': ['reflex_1.1'],
                'Права': 'true',
                'Вложение': {
                    '1.1': {
                        'Ориентир': 'Главная страница',
                        'Расчёты': 'Презентация + новости',
                        'Сценарий': [
                            'place_1.2.1.2.3.2.2.2.2.8','reflex_1.1.1', 'reflex_1.1.2',
                            'reflex_1.1.3', 'reflex_1.1.4', 'reflex_1.1.5'
                        ],
                        'Права': 'true',
                        'Вложение': {
                            '1.1.1': {
                                'Ориентир': 'Каркас',
                                'Расчёты': 'Заголовок страницы, favicon, фон земного шара',
                                'Сценарий': [
                                    'place_1.2.1.2.2', 'place_1.2.1.1.1.1', 'place_1.2.1.1.5',
                                    'place_1.2.1.1.5.1', 'place_1.2.1.1.5.2', 'place_1.2.1.1.6',
                                    'place_1.2.1.1.6.1', 'place_1.2.1.1.6.2', 'place_1.2.1.1.4',
                                    'place_1.2.1.1.4.1', 'place_1.2.1.1.4.4', 'place_1.2.1.1.4.2',
                                    'place_1.2.1.1.4.3', 'place_1.2.1.2.3', 'place_1.2.1.2.3.1',
                                    'place_1.2.1.2.3.2', 'place_1.2.1.2.3.2.1', 'place_1.2.1.2.3.2.2',
                                    'place_1.2.1.2.3.2.2.1', 'place_1.2.1.2.3.2.3', 'place_1.2.1.2.3.2.3.1',
                                    'place_1.2.1.2.3.2.2.5', 'place_1.2.1.2.3.2.2.5.1', 'place_1.2.1.2.3.2.2.5.2',
                                    'place_1.2.1.2.3.2.2.5.2.1', 'place_1.2.1.2.3.2.2.5.2.2'
                                ],
                                'Права': 'true',
                                'Вложение': false
                            },
                            '1.1.2': {
                                'Ориентир': 'Блоки верха',
                                'Расчёты': 'Логотип',
                                'Сценарий': [
                                    'place_1.2.1.2.3.2.2.3', 'place_1.2.1.2.3.2.2.3.1', 'place_1.2.1.2.3.2.2.3.2',
                                    'place_1.2.1.2.3.2.2.3.2.1', 'place_1.2.1.2.3.2.2.3.2.2'
                                ],
                                'Права': 'true',
                                'Вложение': false
                            },
                            '1.1.3': {
                                'Ориентир': 'Блоки содержимого',
                                'Расчёты': 'Новости',
                                'Сценарий': [
                                    'place_1.2.1.2.3.2.2.4', 'place_1.2.1.2.3.2.2.4.1', 'place_1.2.1.2.3.2.2.4.2',
                                    'place_1.2.1.2.3.2.2.4.2.1', 'place_1.2.1.2.3.2.2.4.2.2', 'place_1.2.1.2.3.2.2.4.2.2.1',
                                    'place_1.2.1.2.3.2.2.4.2.2.2',
                                    {'place_1.2.1.2.3.2.2.4.2.4':[
                                                'place_1.2.1.2.3.2.2.4.2.4.1', 'place_1.2.1.2.3.2.2.4.2.4.1.1', 'place_1.2.1.2.3.2.2.4.2.4.1.2',
                                                'place_1.2.1.2.3.2.2.4.2.4.1.2.1', 'place_1.2.1.2.3.2.2.4.2.4.1.2.1.1', 'place_1.2.1.2.3.2.2.4.2.4.1.2.1.2',
                                                'place_1.2.1.2.3.2.2.4.2.4.1.2.1.3', 'place_1.2.1.2.3.2.2.4.2.4.1.3', 'place_1.2.1.2.3.2.2.4.2.4.1.3.1',
                                                'place_1.2.1.2.3.2.2.4.2.4.1.3.2', 'place_1.2.1.2.3.2.2.4.2.4.1.2.1.4'
                                            ]}
                                ],
                                'Права': 'true',
                                'Вложение': false
                            },
                            '1.1.4': {
                                'Ориентир': 'Блоки низа',
                                'Расчёты': 'Подпись, контакты',
                                'Сценарий': [
                                    'place_1.2.1.2.3.2.3.2', 'place_1.2.1.2.3.2.3.2.1', 'place_1.2.1.2.3.2.3.2.2',
                                    'place_1.2.1.2.3.2.3.2.2.1', 'place_1.2.1.2.3.2.3.2.3', 'place_1.2.1.2.3.2.3.2.3.1',
                                    'place_1.2.1.2.3.2.3.2.3.2', 'place_1.2.1.2.3.2.3.2.4', 'place_1.2.1.2.3.2.3.2.4.1',
                                    'place_1.2.1.2.3.2.3.3', 'place_1.2.1.2.3.2.3.3.1',
                                    {'place_1.2.1.2.3.2.3.3.3':[
                                        'place_1.2.1.2.3.2.3.3.3.1.7', 'place_1.2.1.2.3.2.3.3.3.1', 'place_1.2.1.2.3.2.3.3.3.1.1',
                                        'place_1.2.1.2.3.2.3.3.3.1.2', 'place_1.2.1.2.3.2.3.3.3.1.3', 'place_1.2.1.2.3.2.3.3.3.1.4'
                                    ]}
                                ],
                                'Права': 'true',
                                'Вложение': false
                            },
                            '1.1.5': {
                                'Ориентир': 'Анимация',
                                'Расчёты': 'Земной шар',
                                'Сценарий': [
                                    'place_1.2.1.2.3.2.2.2', 'place_1.2.1.2.3.2.2.2.1', 'place_1.2.1.2.3.2.2.2.2',
                                    'place_1.2.1.2.3.2.2.2.2.1', 'place_1.2.1.2.3.2.2.2.2.2', 'place_1.2.1.2.3.2.2.2.2.3',
                                    'place_1.2.1.2.3.2.2.2.2.4', 'place_1.2.1.2.3.2.2.2.2.4.1', 'place_1.2.1.2.3.2.2.2.2.4.2',
                                    'place_1.2.1.2.3.2.2.2.2.5', 'place_1.2.1.2.3.2.2.2.2.5.1', 'place_1.2.1.2.3.2.2.2.2.5.2',
                                    'place_1.2.1.2.3.2.2.2.2.6', 'place_1.2.1.2.3.2.2.2.2.6.1', 'place_1.2.1.2.3.2.2.2.2.6.2'
                                ],
                                'Права': {
                                    0: ['{1.2.1.2.3.2.2.2.2.7}','=','true']
                                },
                                'Вложение': false
                            },
                        }
                    },
                }
            }
        };

        /*2 компонент проекта*/
        $GLOBALS['Места']    = {
            '1': {
                'Смысл': 'Память интерфейса',
                'Роль': {'Инкапсуляция': 'all'},
                'Связь': false,
                'Вложение': {
                    '1.1': {
                        'Смысл': 'Параметры интерфейса',
                        'Роль': {'Инкапсуляция': 'all'},
                        'Связь': false,
                        'Вложение': {
                            '1.1.1': {
                                'Смысл': 'id рефлекса для авто-запуска',
                                'Роль': {'Атрибут':'information'},
                                'Связь': false,
                                'Вложение': '1'
                            },
                            '1.1.2': {
                                'Смысл': 'добавочное для id (из цикла) для авто-запуска',
                                'Роль': {'Атрибут':'information'},
                                'Связь': false,
                                'Вложение': ''
                            },
                            '1.1.3': {
                                'Смысл': 'Логика интерфейса',
                                'Роль': {'Запрос': 'reaction'},
                                'Связь': '1',
                                'Вложение': false
                            },
                        }
                    },
                    '1.2': {
                        'Смысл': 'Шаблон главной страницы',
                        'Роль': {'Инкапсуляция': 'all'},
                        'Связь': false,
                        'Вложение': {
                            '1.2.1': {
                                'Смысл': 'Тэг html',
                                'Роль': {'Инкапсуляция':'html'},
                                'Связь': false,
                                'Вложение': {
                                    '1.2.1.1': {
                                        'Смысл': 'Тэг head',
                                        'Роль': {'Инкапсуляция':'head'},
                                        'Связь': false,
                                        'Вложение': {
                                            '1.2.1.1.1': {
                                                'Смысл': 'Заголовок страницы',
                                                'Роль': {'Инкапсуляция':'title'},
                                                'Связь': false,
                                                'Вложение': {
                                                    '1.2.1.1.1.1': {
                                                        'Смысл': 'Информация',
                                                        'Роль': {'Атрибут':'information'},
                                                        'Связь': false,
                                                        'Вложение': 'Framework CSDR'
                                                    },
                                                }
                                            },
                                            '1.2.1.1.2': {
                                                'Смысл': 'Кодировка',
                                                'Роль': {'Инкапсуляция':'meta'},
                                                'Связь': false,
                                                'Вложение': {
                                                    '1.2.1.1.2.1': {
                                                        'Смысл': 'Скрипты',
                                                        'Роль': {'Атрибут':'charset'},
                                                        'Связь': false,
                                                        'Вложение': 'utf-8'
                                                    },
                                                }
                                            },
                                            '1.2.1.1.3': {
                                                'Смысл': 'Скрипты',
                                                'Роль': {'Инкапсуляция':'script'},
                                                'Связь': false,
                                                'Вложение': {
                                                    '1.2.1.1.3.1': {
                                                        'Смысл': 'Скрипты',
                                                        'Роль': {'Атрибут':'type'},
                                                        'Связь': false,
                                                        'Вложение': 'text/javascript'
                                                    },
                                                }
                                            },
                                            '1.2.1.1.4': {
                                                'Смысл': 'Иконка',
                                                'Роль': {'Инкапсуляция':'link'},
                                                'Связь': false,
                                                'Вложение': {
                                                    '1.2.1.1.4.1': {
                                                        'Смысл': 'rel',
                                                        'Роль': {'Атрибут':'rel'},
                                                        'Связь': false,
                                                        'Вложение': 'shortcut icon'
                                                    },
                                                    '1.2.1.1.4.2': {
                                                        'Смысл': 'Ссылка',
                                                        'Роль': {'Атрибут':'href'},
                                                        'Связь': false,
                                                        'Вложение': './Картинки/favicon1.png'
                                                    },
                                                    '1.2.1.1.4.3': {
                                                        'Смысл': 'type',
                                                        'Роль': {'Атрибут':'type'},
                                                        'Связь': false,
                                                        'Вложение': 'image/png'
                                                    },
                                                    '1.2.1.1.4.4': {
                                                        'Смысл': 'Рандомный favicon',
                                                        'Роль': {'Запрос':'reaction'},
                                                        'Связь': '3',
                                                        'Вложение': false
                                                    },
                                                }
                                            },
                                            '1.2.1.1.5': {
                                                'Смысл': 'Описание',
                                                'Роль': {'Инкапсуляция':'meta'},
                                                'Связь': false,
                                                'Вложение': {
                                                    '1.2.1.1.5.1': {
                                                        'Смысл': 'Определение',
                                                        'Роль': {'Атрибут':'name'},
                                                        'Связь': false,
                                                        'Вложение': 'description'
                                                    },
                                                    '1.2.1.1.5.2': {
                                                        'Смысл': 'Текст',
                                                        'Роль': {'Атрибут':'content'},
                                                        'Связь': false,
                                                        'Вложение': 'Когда важна каждая деталь.'
                                                    },
                                                }
                                            },
                                            '1.2.1.1.6': {
                                                'Смысл': 'Ключевики',
                                                'Роль': {'Инкапсуляция':'meta'},
                                                'Связь': false,
                                                'Вложение': {
                                                    '1.2.1.1.6.1': {
                                                        'Смысл': 'Определение',
                                                        'Роль': {'Атрибут':'name'},
                                                        'Связь': false,
                                                        'Вложение': 'keywords'
                                                    },
                                                    '1.2.1.1.6.2': {
                                                        'Смысл': 'Текст',
                                                        'Роль': {'Атрибут':'content'},
                                                        'Связь': false,
                                                        'Вложение': 'csdr, framework, php, архитектура, it-архитектура, конструктор, сайт'
                                                    },
                                                }
                                            },
                                        }
                                    },
                                    '1.2.1.2': {
                                        'Смысл': 'Тэг body',
                                        'Роль': {'Инкапсуляция':'body'},
                                        'Связь': false,
                                        'Вложение': {
                                            '1.2.1.2.1': {
                                                'Смысл': 'На случай когда браузер не работает со скриптами',
                                                'Роль': {'Инкапсуляция':'noscript'},
                                                'Связь': false,
                                                'Вложение': false
                                            },
                                            '1.2.1.2.2': {
                                                'Смысл': 'Стиль',
                                                'Роль': {'Атрибут':'style'},
                                                'Связь': false,
                                                'Вложение': {
                                                    'min-width':'1000px',
                                                    'margin':'0',
                                                    'padding':'0',
                                                    'background':'#ddd',
                                                    'color':'#666',
                                                    'font-family':'‘Lucida Sans’, Arial, sans-serif',
                                                    'font-size':'16px',
                                                }
                                            },
                                            '1.2.1.2.3': {
                                                'Смысл': 'Верхний фон',
                                                'Роль': {'Инкапсуляция':'div'},
                                                'Связь': false,
                                                'Вложение': {
                                                    '1.2.1.2.3.1': {
                                                        'Смысл': 'Стиль',
                                                        'Роль': {'Атрибут':'style'},
                                                        'Связь': false,
                                                        'Вложение': {
                                                            'background':'url(./Картинки/background_home_up.jpg) no-repeat 50% 0'
                                                        }
                                                    },
                                                    '1.2.1.2.3.2': {
                                                        'Смысл': 'Серединый фон',
                                                        'Роль': {'Инкапсуляция':'div'},
                                                        'Связь': false,
                                                        'Вложение': {
                                                            '1.2.1.2.3.2.1': {
                                                                'Смысл': 'Стиль',
                                                                'Роль': {'Атрибут':'style'},
                                                                'Связь': false,
                                                                'Вложение': {
                                                                    'background':'url(./Картинки/background_home_down.jpg) no-repeat 50% 432px'
                                                                }
                                                            },
                                                            '1.2.1.2.3.2.2': {
                                                                'Смысл': 'Содержимое',
                                                                'Роль': {'Инкапсуляция':'div'},
                                                                'Связь': false,
                                                                'Вложение': {
                                                                    '1.2.1.2.3.2.2.1': {
                                                                        'Смысл': 'Стиль',
                                                                        'Роль': {'Атрибут':'style'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            'position':'relative',
                                                                            'width':'960px',
                                                                            'margin':'0 auto',
                                                                            '_width':'975px'
                                                                        }
                                                                    },
                                                                    '1.2.1.2.3.2.2.2': {
                                                                        'Смысл': 'Анимация',
                                                                        'Роль': {'Инкапсуляция':'div'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            '1.2.1.2.3.2.2.2.1': {
                                                                                'Смысл': 'Стиль',
                                                                                'Роль': {'Атрибут':'style'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    'position':'absolute',
                                                                                    'top':'0',
                                                                                    'left':'321px',
                                                                                    'width':'650px',
                                                                                    'height':'788px'
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.2.2.2': {
                                                                                'Смысл': 'Флеш',
                                                                                'Роль': {'Инкапсуляция':'object'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.2.2.2.1': {
                                                                                        'Смысл': 'Стиль',
                                                                                        'Роль': {'Атрибут':'style'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            'margin':'0pt',
                                                                                            'padding':'0pt',
                                                                                            'border':'0pt none',
                                                                                            'width':'650px',
                                                                                            'height':'788px'
                                                                                        }
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.2.2.2': {
                                                                                        'Смысл': 'Ссылка',
                                                                                        'Роль': {'Атрибут':'data'},
                                                                                        'Связь': false,
                                                                                        'Вложение': './Картинки/mp_anim.swf'
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.2.2.3': {
                                                                                        'Смысл': 'Тип файла',
                                                                                        'Роль': {'Атрибут':'type'},
                                                                                        'Связь': false,
                                                                                        'Вложение': 'application/x-shockwave-flash'
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.2.2.4': {
                                                                                        'Смысл': 'Параметр качества',
                                                                                        'Роль': {'Инкапсуляция':'param'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            '1.2.1.2.3.2.2.2.2.4.1': {
                                                                                                'Смысл': 'Имя',
                                                                                                'Роль': {'Атрибут':'name'},
                                                                                                'Связь': false,
                                                                                                'Вложение': 'quality'
                                                                                            },
                                                                                            '1.2.1.2.3.2.2.2.2.4.2': {
                                                                                                'Смысл': 'Значение',
                                                                                                'Роль': {'Атрибут':'value'},
                                                                                                'Связь': false,
                                                                                                'Вложение': 'high'
                                                                                            },
                                                                                        }
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.2.2.5': {
                                                                                        'Смысл': 'Параметр меню',
                                                                                        'Роль': {'Инкапсуляция':'param'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            '1.2.1.2.3.2.2.2.2.5.1': {
                                                                                                'Смысл': 'Имя',
                                                                                                'Роль': {'Атрибут':'name'},
                                                                                                'Связь': false,
                                                                                                'Вложение': 'menu'
                                                                                            },
                                                                                            '1.2.1.2.3.2.2.2.2.5.2': {
                                                                                                'Смысл': 'Значение',
                                                                                                'Роль': {'Атрибут':'value'},
                                                                                                'Связь': false,
                                                                                                'Вложение': 'false'
                                                                                            },
                                                                                        }
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.2.2.6': {
                                                                                        'Смысл': 'Параметр качества',
                                                                                        'Роль': {'Инкапсуляция':'param'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            '1.2.1.2.3.2.2.2.2.6.1': {
                                                                                                'Смысл': 'Имя',
                                                                                                'Роль': {'Атрибут':'name'},
                                                                                                'Связь': false,
                                                                                                'Вложение': 'wmode'
                                                                                            },
                                                                                            '1.2.1.2.3.2.2.2.2.6.2': {
                                                                                                'Смысл': 'Значение',
                                                                                                'Роль': {'Атрибут':'value'},
                                                                                                'Связь': false,
                                                                                                'Вложение': 'opaque'
                                                                                            },
                                                                                        }
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.2.2.7': {
                                                                                        'Смысл': 'Статус установки флеша в браузере',
                                                                                        'Роль': {'Атрибут':'information'},
                                                                                        'Связь': false,
                                                                                        'Вложение': null
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.2.2.8': {
                                                                                        'Смысл': 'Проверка статуса установки флеша в браузере',
                                                                                        'Роль': {'Запрос':'reaction'},
                                                                                        'Связь': '6',
                                                                                        'Вложение': false
                                                                                    },
                                                                                }
                                                                            },
                                                                        }
                                                                    },
                                                                    '1.2.1.2.3.2.2.3': {
                                                                        'Смысл': 'Логотип',
                                                                        'Роль': {'Инкапсуляция':'div'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            '1.2.1.2.3.2.2.3.1': {
                                                                                'Смысл': 'Стиль',
                                                                                'Роль': {'Атрибут':'style'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    'z-index':'1',
                                                                                    'position':'absolute',
                                                                                    'top':'170px',
                                                                                    'left':'2px',
                                                                                    'padding':'0 0 75px 15px'
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.2.3.2': {
                                                                                'Смысл': 'Картинка',
                                                                                'Роль': {'Инкапсуляция':'a'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.2.3.2.1': {
                                                                                        'Смысл': 'Стиль',
                                                                                        'Роль': {'Атрибут':'style'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            'display':'block',
                                                                                            'text-decoration':'none',
                                                                                            'width':'334px',
                                                                                            'height':'155px',
                                                                                            'background':'url(./Картинки/Logo.png) no-repeat 0 0'
                                                                                        }
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.3.2.2': {
                                                                                        'Смысл': 'Ссылка',
                                                                                        'Роль': {'Атрибут':'href'},
                                                                                        'Связь': false,
                                                                                        'Вложение': 'https://framework-csdr.ru'
                                                                                    },
                                                                                }
                                                                            },
                                                                        }
                                                                    },
                                                                    '1.2.1.2.3.2.2.4': {
                                                                        'Смысл': 'Новости',
                                                                        'Роль': {'Инкапсуляция':'div'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            '1.2.1.2.3.2.2.4.1': {
                                                                                'Смысл': 'Стиль',
                                                                                'Роль': {'Атрибут':'style'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    'padding-top':'450px',
                                                                                    'height':'400px'
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.2.4.2': {
                                                                                'Смысл': 'Картинка',
                                                                                'Роль': {'Инкапсуляция':'div'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.2.4.2.1': {
                                                                                        'Смысл': 'Стиль',
                                                                                        'Роль': {'Атрибут':'style'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            'background':'url(./Картинки/news.jpg) no-repeat 0 0',
                                                                                            'padding':'0 0 40px 0'
                                                                                        }
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.4.2.2': {
                                                                                        'Смысл': 'Заголовок',
                                                                                        'Роль': {'Инкапсуляция':'h2'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            '1.2.1.2.3.2.2.4.2.2.1': {
                                                                                                'Смысл': 'Стиль',
                                                                                                'Роль': {'Атрибут':'style'},
                                                                                                'Связь': false,
                                                                                                'Вложение': {
                                                                                                    'font':'20px times new roman, serif',
                                                                                                    'padding':'11px 0 14px 70px'
                                                                                                }
                                                                                            },
                                                                                            '1.2.1.2.3.2.2.4.2.2.2': {
                                                                                                'Смысл': 'Текст',
                                                                                                'Роль': {'Атрибут':'information'},
                                                                                                'Связь': false,
                                                                                                'Вложение': 'Новости'
                                                                                            },
                                                                                        }
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.4.2.3': {
                                                                                        'Смысл': 'Массив новостей',
                                                                                        'Роль': {'Атрибут':'information'},
                                                                                        'Связь': false,
                                                                                        'Вложение': [
                                                                                            {'name':'Открыт видео-канал','url':'https://www.youtube.com/channel/UCv1ukgLzxa0BvfQ7_YufV7w','date':'07.12.2019'},
                                                                                            {'name':'Google pagespeed = 100','url':'https://github.com/it-architector/code.csdr#реакция-pagespeed','date':'01.12.2019'},
                                                                                            {'name':'Разработаны образцы','url':'https://framework-csdr.ru/samples/','date':'25.10.2019'},
                                                                                            {'name':'Разработана архитектура','url':'https://github.com/it-architector/code.csdr','date':'01.09.2019'}
                                                                                        ]
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.4.2.4': {
                                                                                        'Смысл': 'Показ новостей',
                                                                                        'Роль': {'Запрос':'distribution'},
                                                                                        'Связь': '2',
                                                                                        'Вложение': {
                                                                                            '1.2.1.2.3.2.2.4.2.4.1': {
                                                                                                'Смысл': 'Новость',
                                                                                                'Роль': {'Инкапсуляция':'div'},
                                                                                                'Связь': false,
                                                                                                'Вложение': {
                                                                                                    '1.2.1.2.3.2.2.4.2.4.1.1': {
                                                                                                        'Смысл': 'Стиль',
                                                                                                        'Роль': {'Атрибут':'style'},
                                                                                                        'Связь': false,
                                                                                                        'Вложение': {
                                                                                                            'padding':'0 0 5px 70px',
                                                                                                            'width':'245px'
                                                                                                        }
                                                                                                    },
                                                                                                    '1.2.1.2.3.2.2.4.2.4.1.2': {
                                                                                                        'Смысл': 'Название',
                                                                                                        'Роль': {'Инкапсуляция':'p'},
                                                                                                        'Связь': false,
                                                                                                        'Вложение': {
                                                                                                            '1.2.1.2.3.2.2.4.2.4.1.2.1': {
                                                                                                                'Смысл': 'Ссылка',
                                                                                                                'Роль': {'Инкапсуляция':'a'},
                                                                                                                'Связь': false,
                                                                                                                'Вложение': {
                                                                                                                    '1.2.1.2.3.2.2.4.2.4.1.2.1.1': {
                                                                                                                        'Смысл': 'Переход на новую страницу',
                                                                                                                        'Роль': {'Атрибут':'target'},
                                                                                                                        'Связь': false,
                                                                                                                        'Вложение': '_blank'
                                                                                                                    },
                                                                                                                    '1.2.1.2.3.2.2.4.2.4.1.2.1.2': {
                                                                                                                        'Смысл': 'Ссылка',
                                                                                                                        'Роль': {'Атрибут':'href'},
                                                                                                                        'Связь': false,
                                                                                                                        'Вложение': null
                                                                                                                    },
                                                                                                                    '1.2.1.2.3.2.2.4.2.4.1.2.1.3': {
                                                                                                                        'Смысл': 'Текст',
                                                                                                                        'Роль': {'Атрибут':'information'},
                                                                                                                        'Связь': false,
                                                                                                                        'Вложение': null
                                                                                                                    },
                                                                                                                    '1.2.1.2.3.2.2.4.2.4.1.2.1.4': {
                                                                                                                        'Смысл': 'Стиль',
                                                                                                                        'Роль': {'Атрибут':'style'},
                                                                                                                        'Связь': false,
                                                                                                                        'Вложение': {
                                                                                                                            'color':'#8d8d8d',
                                                                                                                            'text-decoration':'underline',
                                                                                                                        }
                                                                                                                    },
                                                                                                                }
                                                                                                            },
                                                                                                        }
                                                                                                    },
                                                                                                    '1.2.1.2.3.2.2.4.2.4.1.3': {
                                                                                                        'Смысл': 'Дата',
                                                                                                        'Роль': {'Инкапсуляция':'p'},
                                                                                                        'Связь': false,
                                                                                                        'Вложение': {
                                                                                                            '1.2.1.2.3.2.2.4.2.4.1.3.1': {
                                                                                                                'Смысл': 'Стиль',
                                                                                                                'Роль': {'Атрибут':'style'},
                                                                                                                'Связь': false,
                                                                                                                'Вложение': {
                                                                                                                    'font-size':'11px'
                                                                                                                }
                                                                                                            },
                                                                                                            '1.2.1.2.3.2.2.4.2.4.1.3.2': {
                                                                                                                'Смысл': 'Стиль',
                                                                                                                'Роль': {'Атрибут':'information'},
                                                                                                                'Связь': false,
                                                                                                                'Вложение': null
                                                                                                            },
                                                                                                        }
                                                                                                    },
                                                                                                }
                                                                                            },
                                                                                        }
                                                                                    },
                                                                                }
                                                                            },
                                                                        }
                                                                    },
                                                                    '1.2.1.2.3.2.2.5': {
                                                                        'Смысл': 'Центр земли',
                                                                        'Роль': {'Инкапсуляция':'div'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            '1.2.1.2.3.2.2.5.1': {
                                                                                'Смысл': 'Стиль',
                                                                                'Роль': {'Атрибут':'style'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    'position':'relative',
                                                                                    'height':'740px',
                                                                                    'margin':'0 0 -740px 360px',
                                                                                    'z-index':'2'
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.2.5.2': {
                                                                                'Смысл': 'Логос',
                                                                                'Роль': {'Инкапсуляция':'img'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.2.5.2.1': {
                                                                                        'Смысл': 'Ссылка',
                                                                                        'Роль': {'Атрибут':'src'},
                                                                                        'Связь': false,
                                                                                        'Вложение': './Картинки/Three.png'
                                                                                    },
                                                                                    '1.2.1.2.3.2.2.5.2.2': {
                                                                                        'Смысл': 'Стиль',
                                                                                        'Роль': {'Атрибут':'style'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            'display':'block',
                                                                                            'position':'absolute',
                                                                                            'left':'-9px',
                                                                                            'top':'376px',
                                                                                            'width':'150px'
                                                                                        }
                                                                                    },
                                                                                }
                                                                            },
                                                                        }
                                                                    },
                                                                }
                                                            },
                                                            '1.2.1.2.3.2.3': {
                                                                'Смысл': 'Низ',
                                                                'Роль': {'Инкапсуляция':'div'},
                                                                'Связь': false,
                                                                'Вложение': {
                                                                    '1.2.1.2.3.2.3.1': {
                                                                        'Смысл': 'Стиль',
                                                                        'Роль': {'Атрибут':'style'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            'height':'80px',
                                                                            'margin':'0 auto',
                                                                            'padding':'38px 0 0 0',
                                                                            'background':'url(./Картинки/background_footer.jpg) no-repeat 50% 0'
                                                                        }
                                                                    },
                                                                    '1.2.1.2.3.2.3.2': {
                                                                        'Смысл': 'Подпись',
                                                                        'Роль': {'Инкапсуляция':'div'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            '1.2.1.2.3.2.3.2.1': {
                                                                                'Смысл': 'Стиль',
                                                                                'Роль': {'Атрибут':'style'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    'float':'left',
                                                                                    'padding':'0 0 0 190px',
                                                                                    'height':'80px',
                                                                                    'width':'320px'
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.3.2.2': {
                                                                                'Смысл': 'Копирайт',
                                                                                'Роль': {'Инкапсуляция':'text'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.3.2.2.1': {
                                                                                        'Смысл': 'Текст',
                                                                                        'Роль': {'Атрибут':'information'},
                                                                                        'Связь': false,
                                                                                        'Вложение': ''
                                                                                    },
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.3.2.3': {
                                                                                'Смысл': 'Картинка компании',
                                                                                'Роль': {'Инкапсуляция':'img'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.3.2.3.1': {
                                                                                        'Смысл': 'Ссылка',
                                                                                        'Роль': {'Атрибут':'src'},
                                                                                        'Связь': false,
                                                                                        'Вложение': './Картинки/company_mini.jpg'
                                                                                    },
                                                                                    '1.2.1.2.3.2.3.2.3.2': {
                                                                                        'Смысл': 'Стиль',
                                                                                        'Роль': {'Атрибут':'style'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            'height':'12px'
                                                                                        }
                                                                                    },
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.3.2.4': {
                                                                                'Смысл': 'Компания',
                                                                                'Роль': {'Инкапсуляция':'text'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.3.2.4.1': {
                                                                                        'Смысл': 'Текст',
                                                                                        'Роль': {'Атрибут':'information'},
                                                                                        'Связь': false,
                                                                                        'Вложение': '&nbsp;Vanilla company 2019'
                                                                                    },
                                                                                }
                                                                            },
                                                                        }
                                                                    },
                                                                    '1.2.1.2.3.2.3.3': {
                                                                        'Смысл': 'Контакты',
                                                                        'Роль': {'Инкапсуляция':'div'},
                                                                        'Связь': false,
                                                                        'Вложение': {
                                                                            '1.2.1.2.3.2.3.3.1': {
                                                                                'Смысл': 'Стиль',
                                                                                'Роль': {'Атрибут':'style'},
                                                                                'Связь': false,
                                                                                'Вложение': {
                                                                                    'float':'left',
                                                                                    'position':'relative',
                                                                                    'display':'block',
                                                                                    'left':'250px'
                                                                                }
                                                                            },
                                                                            '1.2.1.2.3.2.3.3.2': {
                                                                                'Смысл': 'Массив контактов',
                                                                                'Роль': {'Атрибут':'information'},
                                                                                'Связь': false,
                                                                                'Вложение': [
                                                                                    {'image':'./Картинки/email.png','text':'Email создателя','url':'m' + 'a' + 'i' + 'l' + 't' + 'o' + ':' + 'i' + 't' + '@' + 'framework-csdr.ru'},
                                                                                    {'image':'./Картинки/phpstorm.png','text':'Код написан на JetBrains PhpStorm\'e','url':'https://www.jetbrains.com/?from=framework+csdr'},
                                                                                    {'image':'./Картинки/marilight.png','text':'Душа проекта marilight','url':'https://vk.com/marilighta'},
                                                                                    {'image':'./Картинки/github.png','text':'Исходник на github.com','url':'https://github.com/it-architector/framework.csdr'},
                                                                                ]
                                                                            },
                                                                            '1.2.1.2.3.2.3.3.3': {
                                                                                'Смысл': 'Цикл',
                                                                                'Роль': {'Запрос':'distribution'},
                                                                                'Связь': '4',
                                                                                'Вложение': {
                                                                                    '1.2.1.2.3.2.3.3.3.1': {
                                                                                        'Смысл': 'Ссылка',
                                                                                        'Роль': {'Инкапсуляция':'a'},
                                                                                        'Связь': false,
                                                                                        'Вложение': {
                                                                                            '1.2.1.2.3.2.3.3.3.1.1': {
                                                                                                'Смысл': 'Стиль',
                                                                                                'Роль': {'Атрибут':'style'},
                                                                                                'Связь': false,
                                                                                                'Вложение': null
                                                                                            },
                                                                                            '1.2.1.2.3.2.3.3.3.1.2': {
                                                                                                'Смысл': 'Ссылка',
                                                                                                'Роль': {'Атрибут':'href'},
                                                                                                'Связь': false,
                                                                                                'Вложение': null
                                                                                            },
                                                                                            '1.2.1.2.3.2.3.3.3.1.3': {
                                                                                                'Смысл': 'Подсказка',
                                                                                                'Роль': {'Атрибут':'title'},
                                                                                                'Связь': false,
                                                                                                'Вложение': null
                                                                                            },
                                                                                            '1.2.1.2.3.2.3.3.3.1.4': {
                                                                                                'Смысл': 'Новая страница',
                                                                                                'Роль': {'Атрибут':'target'},
                                                                                                'Связь': false,
                                                                                                'Вложение': '_blank'
                                                                                            },
                                                                                            '1.2.1.2.3.2.3.3.3.1.5': {
                                                                                                'Смысл': 'Ссылка на картинку',
                                                                                                'Роль': {'Атрибут':'information'},
                                                                                                'Связь': false,
                                                                                                'Вложение': null
                                                                                            },
                                                                                            '1.2.1.2.3.2.3.3.3.1.6': {
                                                                                                'Смысл': 'Шаблон стиля',
                                                                                                'Роль': {'Атрибут':'information'},
                                                                                                'Связь': false,
                                                                                                'Вложение': {
                                                                                                    'float':'right',
                                                                                                    'padding-left':'5px',
                                                                                                    'background':'url({IMAGE_URL}) no-repeat 0 0',
                                                                                                    'height':'24px',
                                                                                                    'width':'24px'
                                                                                                }
                                                                                            },
                                                                                            '1.2.1.2.3.2.3.3.3.1.7': {
                                                                                                'Смысл': 'Введение стиля',
                                                                                                'Роль': {'Запрос':'reaction'},
                                                                                                'Связь': '5',
                                                                                                'Вложение': false
                                                                                            },
                                                                                        }
                                                                                    },
                                                                                }
                                                                            },
                                                                        }
                                                                    },
                                                                }
                                                            },
                                                        }
                                                    },
                                                }
                                            },
                                        }
                                    },
                                }
                            },
                        }
                    },
                }
            }
        };

        /*3 компонент проекта*/
        $GLOBALS['Связи']    = {
            '1': {
                'Тип': 'Глобальное',
                'Возможности': {'1.1.1':'reflex_id','1.1.2':'parent_additional_id'},
                'Приобретение': null,
                'Образец возможностей': {
                    'reflex_id':'1'
                },
                'Образец приобретения': null,
                'Реакция': '1'
            },
            '2': {
                'Тип': 'Локальное',
                'Возможности': {'1.2.1.2.3.2.2.4.2.3':'array'},
                'Приобретение': {'name':'1.2.1.2.3.2.2.4.2.4.1.2.1.3','url':'1.2.1.2.3.2.2.4.2.4.1.2.1.2','date':'1.2.1.2.3.2.2.4.2.4.1.3.2'},
                'Образец возможностей': {
                    'array':[
                        {'name':'Открыт видео-канал','url':'https://www.youtube.com/channel/UCv1ukgLzxa0BvfQ7_YufV7w','date':'07.12.2019'},
                        {'name':'Разработаны образцы','url':'https://framework-csdr.ru/samples/Архитектура/','date':'01.12.2019'},
                    ]
                },
                'Образец приобретения': {
                    0:{
                        'name':'Открыт видео-канал',
                        'url':'https://www.youtube.com/channel/UCv1ukgLzxa0BvfQ7_YufV7w',
                        'date':'07.12.2019'
                    },
                    1:{
                        'name':'Разработаны образцы',
                        'url':'https://framework-csdr.ru/samples/Архитектура/',
                        'date':'01.12.2019'
                    }
                },
                'Реакция': false
            },
            '3': {
                'Тип': 'Локальное',
                'Возможности': null,
                'Приобретение': {'url':'1.2.1.1.4.2'},
                'Образец возможностей': null,
                'Образец приобретения': {
                    'url':'./Картинки/favicon1.png'
                },
                'Реакция': '2'
            },
            '4': {
                'Тип': 'Локальное',
                'Возможности': {'1.2.1.2.3.2.3.3.2':'array'},
                'Приобретение': {'image':'1.2.1.2.3.2.3.3.3.1.5','url':'1.2.1.2.3.2.3.3.3.1.2','text':'1.2.1.2.3.2.3.3.3.1.3'},
                'Образец возможностей': {
                    'array':[
                        {'image':'./Картинки/email.png','text':'Email создателя','url':'m' + 'a' + 'i' + 'l' + 't' + 'o' + ':' + 'i' + 't' + '@' + 'framework-csdr.ru'},
                        {'image':'./Картинки/phpstorm.png','text':'Проект поддерживал JetBrains PhpStorm','url':'https://www.jetbrains.com/?from=framework+csdr'}
                    ]
                },
                'Образец приобретения': {
                    0:{
                        'image':'./Картинки/email.png',
                        'text':'Email создателя',
                        'url':'m' + 'a' + 'i' + 'l' + 't' + 'o' + ':' + 'i' + 't' + '@' + 'framework-csdr.ru'
                    },
                    1:{
                        'image':'./Картинки/phpstorm.png',
                        'text':'Проект поддерживал JetBrains PhpStorm',
                        'url':'https://www.jetbrains.com/?from=framework+csdr'
                    }
                },
                'Реакция': false
            },
            '5': {
                'Тип': 'Локальное',
                'Возможности': {'1.2.1.2.3.2.3.3.3.1.6':'style','1.2.1.2.3.2.3.3.3.1.5':'image'},
                'Приобретение': {'style':'1.2.1.2.3.2.3.3.3.1.1'},
                'Образец возможностей': {
                    'style':{
                        'float':'right',
                        'padding-left':'5px',
                        'background':'url({IMAGE_URL}) no-repeat 0 0',
                        'height':'24px',
                        'width':'24px'
                    },
                    'image':'./Картинки/email.png'
                },
                'Образец приобретения': {
                    'style':{
                        'float':'right',
                        'padding-left':'5px',
                        'background':'url(./Картинки/email.png) no-repeat 0 0',
                        'height':'24px',
                        'width':'24px'
                    }
                },
                'Реакция': '3'
            },
            '6': {
                'Тип': 'Локальное',
                'Возможности': null,
                'Приобретение': {'flash_setup':'1.2.1.2.3.2.2.2.2.7'},
                'Образец возможностей': null,
                'Образец приобретения': {
                    'flash_setup':'true'
                },
                'Реакция': '4'
            },
        };

        /*4 компонент проекта*/
        $GLOBALS['Реакции']  = {
            '1': {
                'Способность'  : function($opportunities = []){

                    /*вспомогательные алгоритмы*/
                    var $helper_algorithms = {
                        /*алгоритм выдачи значения рефлекса по id*/
                        'reflex_value' : function ($opportunities = {'reflex_id':null}){

                            /*создаём ссылку на корень места*/
                            var $reflex_value = $GLOBALS['Рефлексы'];

                            /*создаём уровень вложенности*/
                            var $reflex_id_explode = $opportunities['reflex_id'].split('.');

                            var $last_reflex_id;

                            $reflex_id_explode.forEach(function($reflex_id, $key) {
                                if($key == 0){
                                    /*определяем название уровня*/
                                    $last_reflex_id = $reflex_id;
                                }
                                else{
                                    /*определяем название уровня*/
                                    $last_reflex_id = $last_reflex_id + '.' + $reflex_id;
                                    /*переходим во вложенность*/
                                    $reflex_value = $reflex_value['Вложение'];
                                }
                                /*переходим во вложенность*/
                                $reflex_value = $reflex_value[$last_reflex_id];
                            }, $reflex_value, $last_reflex_id);

                            /*убираем лишнее*/
                            if($reflex_value['Вложение'] === undefined){
                                $reflex_value['Вложение'] = {};
                            }

                            /*результат*/
                            return $reflex_value;
                        },
                        /*алгоритм выдачи ссылки на место по id*/
                        'get_place_link' : function ($opportunities = {'place_id':null}){

                            /*создаём ссылку на корень места*/
                            var $link = $GLOBALS['Места'];

                            /*создаём уровень вложенности*/
                            var $place_id_explode = $opportunities['place_id'].split('.');

                            var $last_place_id;

                            $place_id_explode.forEach(function($place_id, $key) {
                                if($key == 0){
                                    /*определяем название уровня*/
                                    $last_place_id = $place_id;
                                }
                                else{
                                    /*определяем название уровня*/
                                    $last_place_id = $last_place_id + '.' + $place_id;
                                    /*переходим во вложенность*/
                                    $link = $link['Вложение'];
                                }
                                /*переходим во вложенность*/
                                $link = $link[$last_place_id];
                            }, $link, $last_place_id);

                            /*результат*/
                            return $link;
                        },
                        /*проверяем права для активации рефлекса*/
                        'verification_rights' : function($opportunities = {'rights' : null,'helper_algorithms' : {'verification_rights' : null,'get_place_link' :null}}){

                            var $helper_algorithms = {
                                /*получаем значения с мест, если необходимо*/
                                'get_place_id_from_value': function ($opportunities = {'value': null,'helper_algorithms': {'get_place_link': null}}) {

                                    var $value = $opportunities['value'];

                                    if(typeof($opportunities['value']) == 'string'){

                                        var $value_is_place_id = $opportunities['value'].match(/{(\d+(\.\d)*)}/i);

                                        if ($value_is_place_id != null && typeof($value_is_place_id[1]) != "undefined") {
                                            /*получаем значение с места*/
                                            $value = $opportunities['helper_algorithms']['get_place_link']({
                                                'place_id': $value_is_place_id[1]
                                            })['Вложение'];

                                        }
                                    }

                                    /*результат*/
                                    return $value;

                                }
                            };

                            /*значение проверки*/
                            var $verification = false;

                            /*если права есть без проверки*/
                            if($opportunities['rights'] == 'true'){
                                $verification = true;
                            }
                            /*если прав нет, проверять не нужно*/
                            else if($opportunities['rights'] == 'false'){
                                $verification = true;
                            }
                            /*проверяем*/
                            else{

                                /*проверяем на инкапсуляцию*/
                                var $keys = Object.keys($opportunities['rights']);
                                var $encapsulation = $keys[0];

                                /*если есть особая инкапсуляция*/
                                if(typeof($encapsulation) == 'string' && ($encapsulation.match(/[constant|variation]/i)) != null){

                                    var $encapsulation_verification = [];

                                    for(var $encapsulation_in in $opportunities['rights'][$encapsulation]){

                                        var $rights_in = $opportunities['rights'][$encapsulation][$encapsulation_in];

                                        var $rights = [];

                                        $rights[$encapsulation_in] = $rights_in;

                                        var $result = $opportunities['helper_algorithms']['verification_rights']({
                                            'rights' : $rights,
                                            'helper_algorithms' : {
                                                'verification_rights' :$opportunities['helper_algorithms']['verification_rights'],
                                                'get_place_link' :$opportunities['helper_algorithms']['get_place_link']
                                            }
                                        });

                                        $encapsulation_verification.push($result);

                                    }

                                    /*инкапсуляция OR сработала*/
                                    if(($encapsulation.match(/variation/i)) != null && $encapsulation_verification.includes(true) == true){
                                        $verification = true;
                                    }
                                    /*инкапсуляция AND сработала*/
                                    else if(($encapsulation.match(/constant/i)) != null && $encapsulation_verification.includes(false) == false){
                                        $verification = true;
                                    }
                                    else{
                                        $verification = false;
                                    }

                                }
                                /*сопоставление*/
                                else{

                                    var $operation = $opportunities['rights'][$encapsulation][1];

                                    /*получаем значения с мест, если необходимо*/
                                    var $value_1 = $helper_algorithms['get_place_id_from_value']({
                                        'value' : $opportunities['rights'][$encapsulation][0],
                                        'helper_algorithms' : {
                                            'get_place_link' :$opportunities['helper_algorithms']['get_place_link']
                                        }
                                    });

                                    var $value_2 = $helper_algorithms['get_place_id_from_value']({
                                        'value' : $opportunities['rights'][$encapsulation][2],
                                        'helper_algorithms' : {
                                            'get_place_link' :$opportunities['helper_algorithms']['get_place_link']
                                        }
                                    });

                                    /*проверяем*/
                                    if($operation=='>' && $value_1>$value_2){
                                        $verification = true;
                                    }
                                    else if($operation=='=' && $value_1==$value_2){
                                        $verification = true;
                                    }
                                    else if($operation=='>=' && $value_1>=$value_2){
                                        $verification = true;
                                    }
                                    else if($operation=='!=' && $value_1!=$value_2){
                                        $verification = true;
                                    }
                                    else if($operation=='in' && $value_2.includes($value_1) == true){
                                        $verification = true;
                                    }
                                    else if($operation=='not in' && $value_2.includes($value_1) == false){
                                        $verification = true;
                                    }
                                    else{
                                        $verification = false;
                                    }

                                }
                            }

                            /*результат*/
                            return $verification;

                        },
                        /*алгоритм активации мест*/
                        'place_activation' : function($opportunities = {'places':null,'parent_additional_id':null,'helper_algorithms':{'get_place_link':null,'place_activation':null}}){

                            /*вспомогательные алгоритмы*/
                            $helper_algorithms = {
                                /*алгоритм выдачи id родителя тэга*/
                                'get_parent_id' : function ($opportunities = {'child_place_id':null}){

                                    /*id родительского тэга*/
                                    var $parent_id = false;

                                    /*создаём ссылку на корень места*/
                                    var $link = $GLOBALS['Места'];

                                    /*создаём уровень вложенности*/
                                    var $place_id_explode = $opportunities['child_place_id'].split('.');

                                    var $last_place_id;

                                    $place_id_explode.forEach(function($place_id, $key) {
                                        if($key == 0){
                                            /*определяем название уровня*/
                                            $last_place_id = $place_id;
                                        }
                                        else{
                                            /*определяем название уровня*/
                                            $last_place_id = $last_place_id + '.' + $place_id;
                                            /*переходим во вложенность*/
                                            $link = $link['Вложение'];
                                        }
                                        /*переходим во вложенность*/
                                        $link = $link[$last_place_id];
                                        /*запоминаем последний тэг*/
                                        if($last_place_id!=$opportunities['child_place_id'] && typeof($link['Роль']['Инкапсуляция']) != "undefined" && $link['Роль']['Инкапсуляция']!='all'){
                                            $parent_id = $last_place_id;
                                        }
                                    }, $link, $opportunities, $parent_id, $last_place_id);

                                    /*результат*/
                                    return $parent_id;

                                },
                                /*алгоритм получения родительского линка по id ребёнка*/
                                'get_parent_link' : function($opportunities = {'child_place_id':null,'parent_additional_id':null,'helper_algorithms':{'get_parent_id':null}}){

                                    /*получаем id родительского тэга*/
                                    var $parent_id = $opportunities['helper_algorithms']['get_parent_id']({
                                        'child_place_id':$opportunities['child_place_id']
                                    });

                                    /*создаём ссылку на DOM родительского тэга*/
                                    if(document.getElementById($parent_id + $opportunities['parent_additional_id'])){
                                        var $parent_link = document.getElementById($parent_id + $opportunities['parent_additional_id']);
                                    }
                                    else{
                                        var $parent_link = document.getElementById($parent_id);
                                    }

                                    return $parent_link;
                                },
                                /*алгоритм получения значений c мест*/
                                'get_place_values' : function($opportunities = {'communication_id':null,'helper_algorithms':{'get_place_link':null}}){

                                    var $helper_algorithms = {
                                        /*копируем текст/массив*/
                                        'copy': function($opportunities = {'value':null,'helper_algorithms':{'copy':null}}){

                                            if(typeof $opportunities['value'] === 'object')  {

                                                var $value_copy = [];

                                                for($key in $opportunities['value']) {
                                                    if($opportunities['value'].hasOwnProperty($key)) {
                                                        var $value_row = $opportunities['value'][$key];
                                                        if($value_row && typeof $value_row === 'object') {
                                                            $value_copy[$key] = $opportunities['helper_algorithms']['copy']({
                                                                'value':$value_row,
                                                                'helper_algorithms':{
                                                                    'copy':$opportunities['helper_algorithms']['copy']
                                                                }
                                                            });
                                                        }
                                                        else {
                                                            $value_copy[$key] = $value_row;
                                                        }
                                                    }
                                                }

                                            }
                                            else{
                                                var $value_copy =  $opportunities['value'];
                                            }

                                            return $value_copy;
                                        }
                                    };

                                    var $communication_id = $opportunities['communication_id'];

                                    /*получаем значения с мест*/
                                    var $place_values = [];

                                    if($GLOBALS['Связи'][$communication_id]['Возможности'] != null){

                                        for(var $place_id in $GLOBALS['Связи'][$communication_id]['Возможности']) {

                                            var $place_code = $GLOBALS['Связи'][$communication_id]['Возможности'][$place_id];

                                            $place_values[$place_code] = $opportunities['helper_algorithms']['get_place_link']({
                                                'place_id':$place_id
                                            })['Вложение'];

                                            /*убираем ссылку на массив*/
                                            $place_values[$place_code] = $helper_algorithms['copy']({
                                                'value':$place_values[$place_code],
                                                'helper_algorithms':{
                                                    'copy':$helper_algorithms['copy']
                                                }
                                            });

                                        }

                                    }

                                    return $place_values;
                                },
                                /*алгоритм установки значений по местам*/
                                'set_place_values' : function($opportunities = {'place_values':null,'helper_algorithms':{'get_place_link':null}}){

                                    /*сохраняем результат по местам*/
                                    for(var $place_id in $opportunities['place_values']) {

                                        var $place_value = $opportunities['place_values'][$place_id];

                                        /*создаём ссылку на место*/
                                        var $place_link = $opportunities['helper_algorithms']['get_place_link']({
                                            'place_id':$place_id
                                        });

                                        /*сохраняем значение*/
                                        $place_link['Вложение'] = $place_value;
                                    }
                                },
                                /*передаём значения атрибутов тэга в места*/
                                'transfer_tag_attribute_value_to_place' : function($opportunities = {'communication_id':null,'tag':null,'helper_algorithms':{'get_place_link':null,'set_place_values':null}}){

                                    var $communication_id = $opportunities['communication_id'];

                                    if($GLOBALS['Связи'][$communication_id]['Возможности'] != null){

                                        var $place_values_from_tag = [];

                                        for(var $attribute_name in $GLOBALS['Связи'][$communication_id]['Возможности']) {

                                            var $place_id = $GLOBALS['Связи'][$communication_id]['Возможности'][$attribute_name];

                                            var $attribute_value = $opportunities['tag'].getAttribute($attribute_name);

                                            if($attribute_value == 'null'){
                                                $attribute_value = null;
                                            }

                                            $place_values_from_tag[$place_id] = $attribute_value;

                                        }

                                        /*сохраняем значения*/
                                        $opportunities['helper_algorithms']['set_place_values']({
                                            'place_values':$place_values_from_tag,
                                            'helper_algorithms':{
                                                'get_place_link':$opportunities['helper_algorithms']['get_place_link']
                                            }
                                        });

                                    }

                                },
                                /*алгоритм активации ролей*/
                                'activation_roles' : {
                                    'Инкапсуляция': {
                                        'all': function ($opportunities = {}) {
                                            /*ничего не делаем*/
                                        },
                                        /*если у места роль html тэга*/
                                        'other': function ($opportunities = {'place_id':null,'place_value':null,'parent_additional_id':null,'helper_algorithms':{'get_parent_link':null,'get_parent_id':null}}) {

                                            /*создаём новый тэг*/
                                            var $new_tag = document.createElement($opportunities['place_value']['Роль']['Инкапсуляция']);

                                            /*присваиваем индетификатор*/
                                            $new_tag.setAttribute("id", $opportunities['place_id'] + $opportunities['parent_additional_id']);

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*вставляем новый тэг в родительский*/
                                            $parent_link.appendChild($new_tag);
                                        },
                                    },
                                    'Ожидание': {
                                        /*если у места роль ожидания запроса*/
                                        'request': function ($opportunities = {'attachment_places':null,'parent_additional_id':null,'helper_algorithms':{'place_activation':null,'get_place_link':null,'set_place_values':null}}) {


                                            /*вспомогательные алгоритмы*/
                                            $helper_algorithms = {
                                                /*получаем якорь*/
                                                'get_anchor': function($opportunities = null){

                                                    var $anchor = window.location.hash;

                                                    /*если есть якорь*/
                                                    if($anchor != ""){

                                                        /*убираем знак #*/
                                                        var $anchor_explode = $anchor.split('#',2);

                                                        $anchor = $anchor[1];

                                                    }
                                                    else{
                                                        $anchor = null;
                                                    }

                                                    /*результат*/
                                                    return $anchor;

                                                },
                                                /*получаем параметры*/
                                                'get_parameters': function($opportunities = null){

                                                    /*параметры*/
                                                    var $parameters = [];

                                                    /*получаем параметры запроса в виде ссылки*/
                                                    var $url_parameters = window.location.search;

                                                    /*разбираем ссылку на параметры*/
                                                    var $parameters_rows = ($url_parameters.substr(1)).split('&');

                                                    /*если есть параметры*/
                                                    if($parameters_rows[0] != ""){

                                                        /*перебираем все параметры*/
                                                        for (var i = 0; i < $parameters_rows.length; i ++) {

                                                            /*один параметр*/
                                                            var $parameters_row = $parameters_rows[i].split('=');

                                                            /*пишем в итоговый массив имя переменной и ее значение*/
                                                            $parameters[$parameters_row[0]] = $parameters_row[1];
                                                        }

                                                    }

                                                    /*результат*/
                                                    return $parameters;

                                                },
                                            };

                                            /*получаем информацию из браузера*/
                                            var $browser_data = {
                                                'url': window.location.pathname,
                                                'anchor': $helper_algorithms['get_anchor'](),
                                                'parameters': $helper_algorithms['get_parameters'](),
                                            };

                                            /*если у места есть связь*/
                                            if($opportunities['place_value']['Связь']){

                                                var $communication_id = $opportunities['place_value']['Связь'];

                                                var $place_values_from_browser = [];

                                                /*берём места для сохранения данных с браузера*/
                                                for(var $request_id in $GLOBALS['Связи'][$communication_id]['Возможности']){

                                                    if($request_id == 'parameters'){
                                                        for(var $request_id in $GLOBALS['Связи'][$communication_id]['Возможности']['parameters']){

                                                            var $place_id = $GLOBALS['Связи'][$communication_id]['Возможности']['parameters'][$request_id];

                                                            if(typeof $browser_data['parameters'][$request_id] != "undefined" && $browser_data['parameters'][$request_id] != ""){
                                                                var $request_data = $browser_data['parameters'][$request_id];
                                                            }
                                                            else{
                                                                var $request_data = null;
                                                            }

                                                            $place_values_from_browser[$place_id] = $request_data;
                                                        }
                                                    }
                                                    else{

                                                        var $place_id = $GLOBALS['Связи'][$communication_id]['Возможности'][$request_id];

                                                        if(typeof $browser_data[$request_id] != "undefined"){
                                                            var $request_data = $browser_data[$request_id];
                                                        }
                                                        else{
                                                            var $request_data = null;
                                                        }

                                                        $place_values_from_browser[$place_id] = $request_data;
                                                    }

                                                }

                                                /*сохраняем значения*/
                                                $opportunities['helper_algorithms']['set_place_values']({
                                                    'place_values':$place_values_from_browser,
                                                    'helper_algorithms':{
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link']
                                                    }
                                                });

                                            }

                                            /*активируем приложенные места*/
                                            $opportunities['helper_algorithms']['place_activation']({
                                                'places':$opportunities['attachment_places'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_place_link':$opportunities['helper_algorithms']['get_place_link'],
                                                    'place_activation':$opportunities['helper_algorithms']['place_activation']
                                                }
                                            });

                                        },
                                        /*если у места роль ожидания нажатия на оболочку*/
                                        'click': function ($opportunities = {'place_id':null,'place_value':null,'parent_additional_id':null,'attachment_places':null,'helper_algorithms':{'get_parent_link':null,'place_activation':null,'get_parent_id':null,'set_place_values':null,'transfer_tag_attribute_value_to_place':null}}) {

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*запоминаем необходимые данные*/
                                            $parent_link.setAttribute("places-attachment-by-click", JSON.stringify($opportunities['attachment_places']));
                                            $parent_link.setAttribute("communication-id-by-click", $opportunities['place_value']['Связь']);

                                            /*ставим на тэг активацию мест*/
                                            $parent_link.onclick = function(){

                                                /*необходимые данные с тэга*/
                                                var $attachment_places = JSON.parse(this.getAttribute('places-attachment-by-click'));
                                                var $communication_id = this.getAttribute('communication-id-by-click');

                                                /*передаём значения атрибутов в места*/
                                                $opportunities['helper_algorithms']['transfer_tag_attribute_value_to_place']({
                                                    'communication_id':$communication_id,
                                                    'tag':this,
                                                    'helper_algorithms':{
                                                        'set_place_values':$opportunities['helper_algorithms']['set_place_values'],
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link']
                                                    }
                                                });

                                                /*получаем ссылку и указанного в связи атрибута*/
                                                var $acquisition = $GLOBALS['Связи'][$communication_id]['Приобретение'];

                                                if($acquisition!=null){

                                                    var $keys = Object.keys($acquisition);
                                                    var $attribute_href = $keys[0];

                                                    var $page_link = this.getAttribute($attribute_href);

                                                    /*передаём в браузер ссылку*/
                                                    history.pushState(null, null, $page_link);

                                                }

                                                /*активируем приложенные места*/
                                                $opportunities['helper_algorithms']['place_activation']({
                                                    'places':$attachment_places,
                                                    'parent_additional_id':'',
                                                    'helper_algorithms':{
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link'],
                                                        'place_activation':$opportunities['helper_algorithms']['place_activation']
                                                    }
                                                });



                                                /*убираем открытие по href*/
                                                return false;

                                            };
                                        },
                                        /*если у места роль ожидания наведения на оболочку*/
                                        'hover': function ($opportunities = {'place_id':null,'place_value':null,'parent_additional_id':null,'attachment_places':null,'helper_algorithms':{'get_parent_link':null,'place_activation':null,'get_parent_id':null,'set_place_values':null,'transfer_tag_attribute_value_to_place':null}}) {

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*запоминаем необходимые данные*/
                                            $parent_link.setAttribute("places-attachment-by-hover", JSON.stringify($opportunities['attachment_places']));
                                            $parent_link.setAttribute("communication-id-by-hover", $opportunities['place_value']['Связь']);

                                            /*ставим на тэг активацию мест*/
                                            $parent_link.onmouseover = function(){

                                                /*необходимые данные с тэга*/
                                                var $attachment_places = JSON.parse(this.getAttribute('places-attachment-by-hover'));
                                                var $communication_id = this.getAttribute('communication-id-by-hover');

                                                /*передаём значения атрибутов в места*/
                                                $opportunities['helper_algorithms']['transfer_tag_attribute_value_to_place']({
                                                    'communication_id':$communication_id,
                                                    'tag':this,
                                                    'helper_algorithms':{
                                                        'set_place_values':$opportunities['helper_algorithms']['set_place_values'],
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link']
                                                    }
                                                });

                                                /*активируем приложенные места*/
                                                $opportunities['helper_algorithms']['place_activation']({
                                                    'places':$attachment_places,
                                                    'parent_additional_id':'',
                                                    'helper_algorithms':{
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link'],
                                                        'place_activation':$opportunities['helper_algorithms']['place_activation']
                                                    }
                                                });

                                            };
                                        },
                                        /*если у места роль ожидания отведения с оболочки*/
                                        'abduction': function ($opportunities = {'place_id':null,'place_value':null,'parent_additional_id':null,'attachment_places':null,'helper_algorithms':{'get_parent_link':null,'place_activation':null,'get_parent_id':null,'set_place_values':null,'transfer_tag_attribute_value_to_place':null}}) {

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*запоминаем необходимые данные*/
                                            $parent_link.setAttribute("places-attachment-by-abduction", JSON.stringify($opportunities['attachment_places']));
                                            $parent_link.setAttribute("communication-id-by-abduction", $opportunities['place_value']['Связь']);

                                            /*ставим на тэг активацию мест*/
                                            $parent_link.onmouseout = function(){

                                                /*необходимые данные с тэга*/
                                                var $attachment_places = JSON.parse(this.getAttribute('places-attachment-by-abduction'));
                                                var $communication_id = this.getAttribute('communication-id-by-abduction');

                                                /*передаём значения атрибутов в места*/
                                                $opportunities['helper_algorithms']['transfer_tag_attribute_value_to_place']({
                                                    'communication_id':$communication_id,
                                                    'tag':this,
                                                    'helper_algorithms':{
                                                        'set_place_values':$opportunities['helper_algorithms']['set_place_values'],
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link']
                                                    }
                                                });

                                                /*активируем приложенные места*/
                                                $opportunities['helper_algorithms']['place_activation']({
                                                    'places':$attachment_places,
                                                    'parent_additional_id':'',
                                                    'helper_algorithms':{
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link'],
                                                        'place_activation':$opportunities['helper_algorithms']['place_activation']
                                                    }
                                                });

                                            };
                                        },
                                    },
                                    'Атрибут': {
                                        /*если у места роль ожидания нажатия на оболочку*/
                                        'information': function ($opportunities = {'place_id':null,'place_value':null,'parent_additional_id':null,'helper_algorithms':{'get_parent_link':null,'get_parent_id':null}}) {

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*вставляем информацию в родительский тэг*/
                                            $parent_link.innerHTML = $opportunities['place_value']['Вложение'];

                                        },
                                        /*если у места роль очистки оболочки*/
                                        'clear': function ($opportunities = {'place_id':null,'parent_additional_id':null,'helper_algorithms':{'get_parent_link':null,'get_parent_id':null}}) {

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*очищаем DOM родительского тэга*/
                                            $parent_link.innerHTML = '';

                                        },
                                        /*если у места роль стиля оболочки*/
                                        'style': function ($opportunities = {'place_id':null,'parent_additional_id':null,'place_value':null,'helper_algorithms':{'get_parent_link':null,'get_parent_id':null}}) {

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*если стили заданы*/
                                            if($opportunities['place_value']['Вложение'] != null){
                                                /*ставим стили*/
                                                Object.assign($parent_link.style,$opportunities['place_value']['Вложение']);
                                            }
                                        },
                                        /*если у места роль атрибута тэга*/
                                        'other': function ($opportunities = {'place_id':null,'place_value':null,'parent_additional_id':null,'helper_algorithms':{'get_parent_link':null,'get_parent_id':null}}) {

                                            /*получаем родительский линк*/
                                            var $parent_link = $opportunities['helper_algorithms']['get_parent_link']({
                                                'child_place_id':$opportunities['place_id'],
                                                'parent_additional_id':$opportunities['parent_additional_id'],
                                                'helper_algorithms':{
                                                    'get_parent_id':$opportunities['helper_algorithms']['get_parent_id']
                                                }
                                            });

                                            /*вставляем/изменяем новый атрибут в родительский*/
                                            $parent_link.setAttribute($opportunities['place_value']['Роль']['Атрибут'], $opportunities['place_value']['Вложение']);

                                        },

                                    },
                                    'Запрос': {
                                        /*если запрос в реакцию*/
                                        'reaction': function ($opportunities = {'place_value':null,'helper_algorithms':{'get_place_values':null,'get_place_link':null,'set_place_values':null}}) {

                                            /*если у места есть связь*/
                                            if($opportunities['place_value']['Связь']){

                                                var $communication_id = $opportunities['place_value']['Связь'];

                                                /*импортируемые значения с мест*/
                                                var $place_values_to_reaction = $opportunities['helper_algorithms']['get_place_values']({
                                                    'communication_id':$communication_id,
                                                    'helper_algorithms':{
                                                        'get_place_link':$opportunities['helper_algorithms']['get_place_link']
                                                    }
                                                });

                                                /*если есть реакции у связи*/
                                                if($GLOBALS['Связи'][$communication_id]['Реакция']){

                                                    var $reaction_id = $GLOBALS['Связи'][$communication_id]['Реакция'];

                                                    /*активируем реакцию*/
                                                    var $results = $GLOBALS['Реакции'][$reaction_id]['Способность']($place_values_to_reaction);

                                                    /*если есть что сохранять по местам*/
                                                    if($GLOBALS['Связи'][$communication_id]['Приобретение'] != null){

                                                        var $place_values_from_reaction = [];

                                                        /*соотносим полученными от реакции переменные с назначенными переменными в связи*/
                                                        for(var $place_code in $GLOBALS['Связи'][$communication_id]['Приобретение']) {

                                                            var $place_id = $GLOBALS['Связи'][$communication_id]['Приобретение'][$place_code];

                                                            /*берём значение из результата*/
                                                            if(typeof($results[$place_code]) != "undefined"){
                                                                $place_values_from_reaction[$place_id] = $results[$place_code];
                                                            }
                                                            else{
                                                                $place_values_from_reaction[$place_id] = null;
                                                            }

                                                        }

                                                        /*сохраняем значения*/
                                                        $opportunities['helper_algorithms']['set_place_values']({
                                                            'place_values':$place_values_from_reaction,
                                                            'helper_algorithms':{
                                                                'get_place_link':$opportunities['helper_algorithms']['get_place_link']
                                                            }
                                                        });

                                                    }
                                                }

                                            }

                                        },
                                        /*распределение переменных с массива*/
                                        'distribution': function ($opportunities = {'place_value':null,'attachment_places':null,'parent_additional_id':null,'helper_algorithms':{'place_activation':null,'get_place_values':null,'get_place_link':null,'set_place_values':null}}) {

                                            /*если у места есть связь*/
                                            if($opportunities['place_value']['Связь']) {

                                                var $communication_id = $opportunities['place_value']['Связь'];

                                                /*импортируемые значения с мест*/
                                                var $place_values_distribution_array = $opportunities['helper_algorithms']['get_place_values']({
                                                    'communication_id': $communication_id,
                                                    'helper_algorithms':{
                                                        'get_place_link': $opportunities['helper_algorithms']['get_place_link']
                                                    }
                                                })['array'];

                                                for(var $key in $place_values_distribution_array) {

                                                    /*берём одну запись из массива*/
                                                    var $place_values_distribution = $place_values_distribution_array[$key];

                                                    /*распределяем значения*/
                                                    var $place_values_from_distribution = [];

                                                    /*назначенные переменными в связи*/
                                                    for(var $place_code in $GLOBALS['Связи'][$communication_id]['Приобретение']) {

                                                        $place_id = $GLOBALS['Связи'][$communication_id]['Приобретение'][$place_code];

                                                        /*если есть значение в импорте*/
                                                        if(typeof($place_values_distribution[$place_code]) != "undefined"){
                                                            $place_values_from_distribution[$place_id] = $place_values_distribution[$place_code];
                                                        }
                                                        /*в результате реакции нет значения*/
                                                        else{
                                                            $place_values_from_distribution[$place_id] = null;
                                                        }

                                                    }

                                                    /*сохраняем значения распределения*/
                                                    $opportunities['helper_algorithms']['set_place_values']({
                                                        'place_values': $place_values_from_distribution,
                                                        'helper_algorithms':{
                                                            'get_place_link': $opportunities['helper_algorithms']['get_place_link']
                                                        }
                                                    });

                                                    /*активируем приложенные места*/
                                                    $opportunities['helper_algorithms']['place_activation']({
                                                        'places':$opportunities['attachment_places'],
                                                        'parent_additional_id':$opportunities['parent_additional_id'] + '-' + $key,
                                                        'helper_algorithms':{
                                                            'get_place_link':$opportunities['helper_algorithms']['get_place_link'],
                                                            'place_activation':$opportunities['helper_algorithms']['place_activation']
                                                        }
                                                    });

                                                }

                                            }
                                        },
                                    },
                                }
                            };

                            /*если есть места у рефлекса*/
                            if($opportunities['places']){
                                /*обходим все места рефлекса*/
                                for(var $key in $opportunities['places']) {

                                    var $place_id = $opportunities['places'][$key];

                                    /*приложенные места*/
                                    var $attachment_places = false;

                                    /*если id места с приложенными местами: ['id' => ['id2','id3']]*/
                                    if(typeof $place_id === "object"){

                                        var $place_id_with_attachment = $place_id;

                                        /*вычисляем идентификатор места*/
                                        var $keys = Object.keys($place_id_with_attachment);
                                        $place_id = $keys[0];

                                        /*приложенные места*/
                                        $attachment_places = $place_id_with_attachment[$place_id];
                                    }
                                    /*если обозначен рефлекс*/
                                    else if($place_id.indexOf('reflex_') > -1){

                                        /*получаем id рефлекса*/
                                        var $reflex_id = $place_id.replace('reflex_','');

                                        /*активируем рефлекс*/
                                        $GLOBALS['Реакции'][1]['Способность']({
                                            'reflex_id':$reflex_id,
                                            'parent_additional_id':$opportunities['parent_additional_id']
                                        });

                                        continue;
                                    }

                                    /*получаем id места*/
                                    $place_id = $place_id.replace('place_','');

                                    /*значения места*/
                                    var $place_value = $opportunities['helper_algorithms']['get_place_link']({
                                        'place_id':$place_id
                                    });

                                    /*вычисляем идентификатор роли*/
                                    var $keys = Object.keys($place_value['Роль']);
                                    var $role_id = $keys[0];
                                    var $role_additional_id = $place_value['Роль'][$role_id];

                                    /*отмечаем многовариантность значения роли*/
                                    if(typeof($helper_algorithms['activation_roles'][$role_id][$role_additional_id]) == "undefined"){
                                        $role_additional_id = 'other';
                                    }

                                    /*активируем роль*/
                                    $helper_algorithms['activation_roles'][$role_id][$role_additional_id]({
                                        'place_id':$place_id,
                                        'place_value':$place_value,
                                        'attachment_places':$attachment_places,
                                        'parent_additional_id':$opportunities['parent_additional_id'],
                                        'helper_algorithms': {
                                            'place_activation': $opportunities['helper_algorithms']['place_activation'],
                                            'get_place_link': $opportunities['helper_algorithms']['get_place_link'],
                                            'get_parent_id': $helper_algorithms['get_parent_id'],
                                            'get_parent_link': $helper_algorithms['get_parent_link'],
                                            'get_place_values': $helper_algorithms['get_place_values'],
                                            'set_place_values': $helper_algorithms['set_place_values'],
                                            'transfer_tag_attribute_value_to_place': $helper_algorithms['transfer_tag_attribute_value_to_place']
                                        },
                                    });

                                }
                            }
                        },
                    };

                    /*получаем значения запрашиваемого рефлекса*/
                    var $reflex_value = $helper_algorithms['reflex_value']({
                        'reflex_id':$opportunities['reflex_id']
                    });

                    /*проверяем права для активации рефлекса*/
                    var $verification_rights = $helper_algorithms['verification_rights']({
                        'rights': $reflex_value['Права'],
                        'helper_algorithms': {
                            'get_place_link': $helper_algorithms['get_place_link'],
                            'verification_rights': $helper_algorithms['verification_rights']
                        }
                    });

                    /*если права рефлекса выполнимы*/
                    if($verification_rights == true){

                        /*активируем места и рефлексы*/
                        $helper_algorithms['place_activation']({
                            'places':$reflex_value['Сценарий'],
                            'parent_additional_id':$opportunities['parent_additional_id'],
                            'helper_algorithms':{
                                'get_place_link':$helper_algorithms['get_place_link'],
                                'place_activation':$helper_algorithms['place_activation']
                            }
                        });

                    }

                    /*результат*/
                    return null;

                }
            },
            '2': {
                'Способность'  : function($opportunities = []){

                    var min = 1;
                    var max = 4;
                    var rand = Math.floor(Math.random() * (max - min + 1)) + min;

                    /*результат*/
                    return {
                        'url':'./Картинки/favicons/favicon' + rand + '.png'
                    };
                }
            },
            '3': {
                'Способность'  : function($opportunities = []){

                    var $style = $opportunities['style'];
                    var $background = $style['background'];

                    $style['background'] = $background.replace('{IMAGE_URL}', $opportunities['image']);

                    /*результат*/
                    return {
                        'style': $style,
                    };
                }
            },
            '4': {
                'Способность'  : function($opportunities = []){

                    var $flash_setup = 'false';

                    if((navigator.plugins && (navigator.plugins["Shockwave Flash"] || navigator.plugins["Shockwave Flash 2.0"]))
                        ||
                        (navigator.mimeTypes && navigator.mimeTypes['application/x-shockwave-flash'] && navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin)
                        ||
                        (!navigator.plugins && !navigator.mimeTypes)
                    ){

                        $flash_setup = 'true';

                    }

                    /*результат*/
                    return {
                        'flash_setup': $flash_setup,
                    };
                }
            },
        };

        /*активируем рефлексию интерфейса*/
        document.addEventListener('DOMContentLoaded', function() {
            $GLOBALS['Реакции'][1]['Способность']({
                'reflex_id':$GLOBALS['Места']['1']['Вложение']['1.1']['Вложение']['1.1.1']['Вложение'],
                'parent_additional_id':$GLOBALS['Места']['1']['Вложение']['1.1']['Вложение']['1.1.2']['Вложение']
            });
        });

    </script>
</head>
<body id="1.2.1.2"><noscript id="1.2.1.2.1">Для отображения сайта включите JavaScript.</noscript></body>
</html>
